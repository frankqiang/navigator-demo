{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","data_value","window","localStorage","getItem","console","log","dataArray","JSON","parse","hashMap","logo","url","simplifyUrl","replace","render","remove","forEach","node","index","$li","insertBefore","on","open","e","stopPropagation","splice","prompt","indexOf","push","toUpperCase","onbeforeunload","dataString","stringify","setItem","document","key","i","length","toLowerCase"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,YAAYC,EAAE,WAAF,CAAlB;AACA,IAAMC,UAAUF,UAAUG,IAAV,CAAe,SAAf,CAAhB;AACA,IAAMC,aAAaC,OAAOC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,CAAnB;AACAC,QAAQC,GAAR,CAAYL,UAAZ;AACA,IAAMM,YAAYC,KAAKC,KAAL,CAAWR,UAAX,CAAlB;AACAI,QAAQC,GAAR,CAAYC,SAAZ;AACA,IAAMG,UAAUH,aAAa,CACzB,EAAEI,MAAM,GAAR,EAAaC,KAAK,sBAAlB,EADyB,EAEzB,EAAED,MAAM,GAAR,EAAaC,KAAK,0BAAlB,EAFyB,CAA7B;AAIA,IAAMC,cAAc,SAAdA,WAAc,CAACD,GAAD,EAAS;AACzB,WAAOA,IAAIE,OAAJ,CAAY,UAAZ,EAAwB,EAAxB,EACFA,OADE,CACM,MADN,EACc,EADd,EAEFA,OAFE,CAEM,MAFN,EAEc,EAFd,CAAP,CADyB,CAGA;AAC5B,CAJD;AAKA,IAAMC,SAAS,SAATA,MAAS,GAAM;AACjBlB,cAAUG,IAAV,CAAe,eAAf,EAAgCgB,MAAhC;AACAN,YAAQO,OAAR,CAAgB,UAACC,IAAD,EAAOC,KAAP,EAAiB;AAC7B,YAAMC,MAAMtB,uFAEoBoB,KAAKP,IAAL,CAAU,CAAV,CAFpB,sDAGoBE,YAAYK,KAAKN,GAAjB,CAHpB,uPAUJS,YAVI,CAUStB,OAVT,CAAZ;AAWAqB,YAAIE,EAAJ,CAAO,OAAP,EAAgB,YAAM;AAClBpB,mBAAOqB,IAAP,CAAYL,KAAKN,GAAjB,EADkB,CACK;AAC1B,SAFD;AAGAQ,YAAIE,EAAJ,CAAO,OAAP,EAAgB,QAAhB,EAA0B,UAACE,CAAD,EAAO;AAC7BA,cAAEC,eAAF,GAD6B,CACR;AACrBf,oBAAQgB,MAAR,CAAeP,KAAf,EAAsB,CAAtB,EAF6B,CAEH;AAC1BJ,qBAH6B,CAGnB;AACb,SAJD;AAOH,KAtBD;AAuBH,CAzBD;AA0BAA;AACAjB,EAAE,YAAF,EAAgBwB,EAAhB,CAAmB,OAAnB,EAA4B,YAAM;AAC9B,QAAIV,MAAMV,OAAOyB,MAAP,CAAc,YAAd,CAAV;AACA,QAAIf,IAAIgB,OAAJ,CAAY,OAAZ,MAAyB,CAA7B,EAAgC;AAC5BhB,cAAM,aAAaA,GAAnB;AACH;AACDF,YAAQmB,IAAR,CAAa;AACTlB,cAAME,YAAYD,GAAZ,EAAiB,CAAjB,EAAoBkB,WAApB,EADG,EACgC;AACzClB,aAAKA;AAFI,KAAb;AAIAG;AAEH,CAXD;AAYAb,OAAO6B,cAAP,GAAwB,YAAM;AAC1B,QAAMC,aAAaxB,KAAKyB,SAAL,CAAevB,OAAf,CAAnB;AACAR,WAAOC,YAAP,CAAoB+B,OAApB,CAA4B,MAA5B,EAAoCF,UAApC;AACH,CAHD;AAIAlC,EAAEqC,QAAF,EAAYb,EAAZ,CAAe,UAAf,EAA2B,UAACE,CAAD,EAAO;AAC9B;AAD8B,QAEtBY,GAFsB,GAEdZ,CAFc,CAEtBY,GAFsB,EAEX;;AACnB,SAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI3B,QAAQ4B,MAA5B,EAAoCD,GAApC,EAAyC;AACrC;AACA,YAAI3B,QAAQ2B,CAAR,EAAW1B,IAAX,CAAgB4B,WAAhB,OAAkCH,GAAtC,EAA2C;AACvC;AACAlC,mBAAOqB,IAAP,CAAYb,QAAQ2B,CAAR,EAAWzB,GAAvB;AACH;AACJ;AACJ,CAVD","file":"main.05fa05d6.map","sourceRoot":"..\\src","sourcesContent":["const $siteList = $('.siteList');\r\nconst $lastLi = $siteList.find('li.last')\r\nconst data_value = window.localStorage.getItem('data')\r\nconsole.log(data_value);\r\nconst dataArray = JSON.parse(data_value);\r\nconsole.log(dataArray);\r\nconst hashMap = dataArray || [\r\n    { logo: 'A', url: 'https://www.acfun.cn' },\r\n    { logo: 'B', url: 'https://www.bilibili.com' },\r\n]\r\nconst simplifyUrl = (url) => {\r\n    return url.replace('https://', '')\r\n        .replace('www.', '')\r\n        .replace(/\\/.*/, '') //正则表达式，删除'/'后面的所有内容\r\n}\r\nconst render = () => {\r\n    $siteList.find('li:not(.last)').remove();\r\n    hashMap.forEach((node, index) => {\r\n        const $li = $(`<li>\r\n                <div class=\"site\">\r\n                    <div class=\"logo\">${node.logo[0]}</div>\r\n                    <div class=\"link\">${simplifyUrl(node.url)}</div>\r\n                    <div class=\"close\">\r\n                    <svg class=\"icon\">\r\n                    <use xlink:href=\"#icon-close\"></use>\r\n                    </svg>\r\n                    </div>\r\n                </div>\r\n        </li>`).insertBefore($lastLi);\r\n        $li.on('click', () => {\r\n            window.open(node.url); //为新生成的li添加点击事件，打开新窗口\r\n        });\r\n        $li.on('click', '.close', (e) => {\r\n            e.stopPropagation(); //事件委托到close元素，阻止close元素冒泡，以免点击该元素，事件会传播到li上\r\n            hashMap.splice(index, 1); //删除数组里面的当前项\r\n            render(); //重新遍历数组，渲染页面\r\n        })\r\n\r\n\r\n    })\r\n}\r\nrender();\r\n$('.addButton').on('click', () => {\r\n    let url = window.prompt(\"请输入您要添加的网址\");\r\n    if (url.indexOf('https') !== 0) {\r\n        url = 'https://' + url;\r\n    }\r\n    hashMap.push({\r\n        logo: simplifyUrl(url)[0].toUpperCase(), //把用户输入的网址的第一个首字母作为logo\r\n        url: url\r\n    });\r\n    render();\r\n\r\n})\r\nwindow.onbeforeunload = () => {\r\n    const dataString = JSON.stringify(hashMap);\r\n    window.localStorage.setItem('data', dataString);\r\n}\r\n$(document).on('keypress', (e) => {\r\n    // const key=e.key= const {key}=e\r\n    const { key } = e; //解构赋值,获取用户按下的哪个键\r\n    for (let i = 0; i < hashMap.length; i++) {\r\n        //判断按下的键是不是数组里面logo属性值是不是和key相等\r\n        if (hashMap[i].logo.toLowerCase() === key) {\r\n            // 相等打开该对象里面的url\r\n            window.open(hashMap[i].url);\r\n        }\r\n    }\r\n})"]}